{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict';\n// –û–ø–∏—Å–∞–Ω–∏–π —É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó\nimport iziToast from \"izitoast\";\n// –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —ñ–º–ø–æ—Ä—Ç —Å—Ç–∏–ª—ñ–≤\nimport \"izitoast/dist/css/iziToast.min.css\";\n// –û–ø–∏—Å–∞–Ω–∏–π —É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó\nimport SimpleLightbox from \"simplelightbox\";\n// –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —ñ–º–ø–æ—Ä—Ç —Å—Ç–∏–ª—ñ–≤\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst searchParameters = {\n  key: '41869346-1dc68e1b0e88fdca1b815defb',\n  q: 'black',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n  \nasync function searchImg(params) {\n  try {\n        try {\n            const response = await fetch(`https://pixabay.com/api/?${params}`);\n            if (!response.ok) {\n                throw new Error(response.statusText);\n            }\n            const { hits } = await response.json();\n            if (hits.length > 0) {\n                const renderImg = hits.reduce((html, hit) => {\n                    return (\n                        html +\n                        `<li class=\"gallery-item\">\n        <a href=${hit.largeImageURL}> \n          <img class=\"gallery-link\" src =${hit.webformatURL} alt=${hit.tags} width='360' height='200'/>\n        </a>\n        <ul class='gallery-statistic'>\n                  <li><p class='statistic'>üíó Likes<span>${hit.likes}</span></p></li>\n                  <li><p class='statistic'>üëÅÔ∏è Views<span>${hit.views}</span></p></li>\n                  <li><p class='statistic'>üí¨ Comments<span>${hit.comments}</span></p></li>\n                  <li><p class='statistic'>üíå Downloads<span>${hit.downloads}</span></p></li>\n              </ul>\n      </li>`\n                    );\n                }, '');\n                gallery.innerHTML = renderImg;\n\n                lightbox.refresh();\n            } else {\n                iziToast.error({\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    backgroundColor: '#ef4040',\n                    messageSize: '16px',\n                    messageColor: '#fafafb',\n                });\n            }\n        } catch (error) {\n            console.log(error.message);\n        }\n    } finally {\n      loader.style.display = 'none';\n    }\n}\nform.addEventListener('submit', event => {\n  event.preventDefault();\n    gallery.innerHTML = '';\n    loader.style.display = 'block';\n\n\n  searchParameters.q = event.target.elements.search.value.trim();\n  const searchParams = new URLSearchParams(searchParameters);\n  searchImg(searchParams);\n  event.currentTarget.reset();\n});\n"],"names":["form","gallery","loader","searchParameters","lightbox","SimpleLightbox","searchImg","params","response","hits","renderImg","html","hit","iziToast","error","event","searchParams"],"mappings":"6vBAUA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAmB,CACvB,IAAK,qCACL,EAAG,QACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,eAAeC,EAAUC,EAAQ,CAC/B,GAAI,CACE,GAAI,CACA,MAAMC,EAAW,MAAM,MAAM,4BAA4BD,GAAQ,EACjE,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMD,EAAS,KAAI,EACpC,GAAIC,EAAK,OAAS,EAAG,CACjB,MAAMC,EAAYD,EAAK,OAAO,CAACE,EAAMC,IAE7BD,EACA;AAAA,kBACNC,EAAI;AAAA,2CACqBA,EAAI,oBAAoBA,EAAI;AAAA;AAAA;AAAA,2DAGZA,EAAI;AAAA,4DACHA,EAAI;AAAA,8DACFA,EAAI;AAAA,+DACHA,EAAI;AAAA;AAAA,aAIhD,EAAE,EACLX,EAAQ,UAAYS,EAEpBN,EAAS,QAAO,CAChC,MACgBS,EAAS,MAAM,CACX,SAAU,WACV,QAAS,2EACT,gBAAiB,UACjB,YAAa,OACb,aAAc,SAClC,CAAiB,CAER,OAAQC,EAAP,CACE,QAAQ,IAAIA,EAAM,OAAO,CAC5B,CACT,QAAc,CACRZ,EAAO,MAAM,QAAU,MACxB,CACL,CACAF,EAAK,iBAAiB,SAAUe,GAAS,CACvCA,EAAM,eAAc,EAClBd,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QAGzBC,EAAiB,EAAIY,EAAM,OAAO,SAAS,OAAO,MAAM,OACxD,MAAMC,EAAe,IAAI,gBAAgBb,CAAgB,EACzDG,EAAUU,CAAY,EACtBD,EAAM,cAAc,OACtB,CAAC"}